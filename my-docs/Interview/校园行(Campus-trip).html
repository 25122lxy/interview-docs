<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>校园行(Campus-trip) | 八股文突击</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="icon" href="/interview-docs/title_image.jpg">
    <meta name="description" content="八股文">
    <meta name="referrer" content="no-referrer">
    
    <link rel="preload" href="/interview-docs/assets/css/0.styles.55d288df.css" as="style"><link rel="preload" href="/interview-docs/assets/js/app.67f6cb80.js" as="script"><link rel="preload" href="/interview-docs/assets/js/2.eee71d3c.js" as="script"><link rel="preload" href="/interview-docs/assets/js/1.a356cc6d.js" as="script"><link rel="preload" href="/interview-docs/assets/js/33.e09993aa.js" as="script"><link rel="prefetch" href="/interview-docs/assets/js/10.b84b4006.js"><link rel="prefetch" href="/interview-docs/assets/js/11.20da52d6.js"><link rel="prefetch" href="/interview-docs/assets/js/12.4911934c.js"><link rel="prefetch" href="/interview-docs/assets/js/13.00e67b44.js"><link rel="prefetch" href="/interview-docs/assets/js/14.f870dddb.js"><link rel="prefetch" href="/interview-docs/assets/js/15.4db24ad4.js"><link rel="prefetch" href="/interview-docs/assets/js/16.b2b962cf.js"><link rel="prefetch" href="/interview-docs/assets/js/17.a516a10b.js"><link rel="prefetch" href="/interview-docs/assets/js/18.4cf2b64e.js"><link rel="prefetch" href="/interview-docs/assets/js/19.e09e0a96.js"><link rel="prefetch" href="/interview-docs/assets/js/20.45806a88.js"><link rel="prefetch" href="/interview-docs/assets/js/21.84197de1.js"><link rel="prefetch" href="/interview-docs/assets/js/22.3a473303.js"><link rel="prefetch" href="/interview-docs/assets/js/23.aaadbf8e.js"><link rel="prefetch" href="/interview-docs/assets/js/24.86e0c1e4.js"><link rel="prefetch" href="/interview-docs/assets/js/25.7a257b9a.js"><link rel="prefetch" href="/interview-docs/assets/js/26.adb4e421.js"><link rel="prefetch" href="/interview-docs/assets/js/27.ad9e26de.js"><link rel="prefetch" href="/interview-docs/assets/js/28.62824fc2.js"><link rel="prefetch" href="/interview-docs/assets/js/29.d77f3b73.js"><link rel="prefetch" href="/interview-docs/assets/js/3.af785b85.js"><link rel="prefetch" href="/interview-docs/assets/js/30.18027547.js"><link rel="prefetch" href="/interview-docs/assets/js/31.c020db7a.js"><link rel="prefetch" href="/interview-docs/assets/js/32.12eb4ef7.js"><link rel="prefetch" href="/interview-docs/assets/js/34.889f87e4.js"><link rel="prefetch" href="/interview-docs/assets/js/4.b3ca86ef.js"><link rel="prefetch" href="/interview-docs/assets/js/5.09b8f077.js"><link rel="prefetch" href="/interview-docs/assets/js/6.8af05914.js"><link rel="prefetch" href="/interview-docs/assets/js/7.abcf6bba.js"><link rel="prefetch" href="/interview-docs/assets/js/vendors~docsearch.bdb6b9f7.js">
    <link rel="stylesheet" href="/interview-docs/assets/css/0.styles.55d288df.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><main><main slot="sidebar-top"><!----></main> <div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/interview-docs/" class="home-link router-link-active"><!----> <span class="site-name">八股文突击</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/interview-docs/" class="nav-link router-link-active">
  Index
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Interview-Doc" class="dropdown-title"><span class="title">Interview-Doc</span> <span class="arrow down"></span></button> <button type="button" aria-label="Interview-Doc" class="mobile-dropdown-title"><span class="title">Interview-Doc</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/interview-docs/my-docs/Interview/01-Java基础.html" class="nav-link">
  Java基础
</a></li><li class="dropdown-item"><!----> <a href="/interview-docs/my-docs/Interview/02-Redis.html" class="nav-link">
  Redis
</a></li><li class="dropdown-item"><!----> <a href="/interview-docs/my-docs/Interview/03-MySQL.html" class="nav-link">
  MySQL
</a></li><li class="dropdown-item"><!----> <a href="/interview-docs/my-docs/Interview/04-Java框架.html" class="nav-link">
  Java框架
</a></li><li class="dropdown-item"><!----> <a href="/interview-docs/my-docs/Interview/05-微服务.html" class="nav-link">
  微服务
</a></li><li class="dropdown-item"><!----> <a href="/interview-docs/my-docs/Interview/06-消息中间件.html" class="nav-link">
  消息中间件
</a></li><li class="dropdown-item"><!----> <a href="/interview-docs/my-docs/Interview/07-Java集合.html" class="nav-link">
  Java集合
</a></li><li class="dropdown-item"><!----> <a href="/interview-docs/my-docs/Interview/08-Java并发.html" class="nav-link">
  Java并发
</a></li><li class="dropdown-item"><!----> <a href="/interview-docs/my-docs/Interview/09-JVM.html" class="nav-link">
  JVM
</a></li><li class="dropdown-item"><!----> <a href="/interview-docs/my-docs/Interview/数据结构与算法.html" class="nav-link">
  数据结构与算法
</a></li><li class="dropdown-item"><!----> <a href="/interview-docs/my-docs/Interview/校园行(Campus-trip).html" class="nav-link">
  校园行(Campus-trip)
</a></li><li class="dropdown-item"><!----> <a href="/interview-docs/my-docs/Interview/知识小站(Knowledge-Station).html" class="nav-link">
  知识小站(Knowledge-Station)
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/interview-docs/" class="nav-link router-link-active">
  Index
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Interview-Doc" class="dropdown-title"><span class="title">Interview-Doc</span> <span class="arrow down"></span></button> <button type="button" aria-label="Interview-Doc" class="mobile-dropdown-title"><span class="title">Interview-Doc</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/interview-docs/my-docs/Interview/01-Java基础.html" class="nav-link">
  Java基础
</a></li><li class="dropdown-item"><!----> <a href="/interview-docs/my-docs/Interview/02-Redis.html" class="nav-link">
  Redis
</a></li><li class="dropdown-item"><!----> <a href="/interview-docs/my-docs/Interview/03-MySQL.html" class="nav-link">
  MySQL
</a></li><li class="dropdown-item"><!----> <a href="/interview-docs/my-docs/Interview/04-Java框架.html" class="nav-link">
  Java框架
</a></li><li class="dropdown-item"><!----> <a href="/interview-docs/my-docs/Interview/05-微服务.html" class="nav-link">
  微服务
</a></li><li class="dropdown-item"><!----> <a href="/interview-docs/my-docs/Interview/06-消息中间件.html" class="nav-link">
  消息中间件
</a></li><li class="dropdown-item"><!----> <a href="/interview-docs/my-docs/Interview/07-Java集合.html" class="nav-link">
  Java集合
</a></li><li class="dropdown-item"><!----> <a href="/interview-docs/my-docs/Interview/08-Java并发.html" class="nav-link">
  Java并发
</a></li><li class="dropdown-item"><!----> <a href="/interview-docs/my-docs/Interview/09-JVM.html" class="nav-link">
  JVM
</a></li><li class="dropdown-item"><!----> <a href="/interview-docs/my-docs/Interview/数据结构与算法.html" class="nav-link">
  数据结构与算法
</a></li><li class="dropdown-item"><!----> <a href="/interview-docs/my-docs/Interview/校园行(Campus-trip).html" class="nav-link">
  校园行(Campus-trip)
</a></li><li class="dropdown-item"><!----> <a href="/interview-docs/my-docs/Interview/知识小站(Knowledge-Station).html" class="nav-link">
  知识小站(Knowledge-Station)
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/interview-docs/" aria-current="page" class="sidebar-link">学前必读</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Interview</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/interview-docs/my-docs/Interview/01-Java基础.html" class="sidebar-link">Java基础</a></li><li><a href="/interview-docs/my-docs/Interview/02-Redis.html" class="sidebar-link">Redis</a></li><li><a href="/interview-docs/my-docs/Interview/03-MySQL.html" class="sidebar-link">MySQL</a></li><li><a href="/interview-docs/my-docs/Interview/04-Java框架.html" class="sidebar-link">Java框架</a></li><li><a href="/interview-docs/my-docs/Interview/05-微服务.html" class="sidebar-link">微服务</a></li><li><a href="/interview-docs/my-docs/Interview/06-消息中间件.html" class="sidebar-link">消息中间件</a></li><li><a href="/interview-docs/my-docs/Interview/07-Java集合.html" class="sidebar-link">Java集合</a></li><li><a href="/interview-docs/my-docs/Interview/08-Java并发.html" class="sidebar-link">Java并发</a></li><li><a href="/interview-docs/my-docs/Interview/09-JVM.html" class="sidebar-link">JVM</a></li><li><a href="/interview-docs/my-docs/Interview/数据结构与算法.html" class="sidebar-link">数据结构与算法</a></li><li><a href="/interview-docs/my-docs/Interview/校园行(Campus-trip).html" class="active sidebar-link">校园行(Campus-trip)</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/interview-docs/my-docs/Interview/校园行(Campus-trip).html#_1-项目概述" class="sidebar-link">1. 项目概述</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/interview-docs/my-docs/Interview/校园行(Campus-trip).html#_1-1-项目介绍" class="sidebar-link">1.1 项目介绍</a></li><li class="sidebar-sub-header"><a href="/interview-docs/my-docs/Interview/校园行(Campus-trip).html#_1-2-数据库表设计" class="sidebar-link">1.2 数据库表设计</a></li><li class="sidebar-sub-header"><a href="/interview-docs/my-docs/Interview/校园行(Campus-trip).html#_1-3-项目架构" class="sidebar-link">1.3 项目架构</a></li><li class="sidebar-sub-header"><a href="/interview-docs/my-docs/Interview/校园行(Campus-trip).html#_1-4-项目工程结构" class="sidebar-link">1.4 项目工程结构</a></li><li class="sidebar-sub-header"><a href="/interview-docs/my-docs/Interview/校园行(Campus-trip).html#_1-5-项目演示" class="sidebar-link">1.5 项目演示</a></li></ul></li><li class="sidebar-sub-header"><a href="/interview-docs/my-docs/Interview/校园行(Campus-trip).html#_2-项目业务" class="sidebar-link">2. 项目业务</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/interview-docs/my-docs/Interview/校园行(Campus-trip).html#_2-1-pc管理端" class="sidebar-link">2.1 PC管理端</a></li><li class="sidebar-sub-header"><a href="/interview-docs/my-docs/Interview/校园行(Campus-trip).html#_2-2-小程序端" class="sidebar-link">2.2 小程序端</a></li></ul></li><li class="sidebar-sub-header"><a href="/interview-docs/my-docs/Interview/校园行(Campus-trip).html#_3-简历编写" class="sidebar-link">3. 简历编写</a></li><li class="sidebar-sub-header"><a href="/interview-docs/my-docs/Interview/校园行(Campus-trip).html#_4-附录-关键代码-流程图" class="sidebar-link">4. 附录（关键代码+流程图）</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/interview-docs/my-docs/Interview/校园行(Campus-trip).html#发布活动" class="sidebar-link">发布活动</a></li><li class="sidebar-sub-header"><a href="/interview-docs/my-docs/Interview/校园行(Campus-trip).html#微信登录" class="sidebar-link">微信登录</a></li><li class="sidebar-sub-header"><a href="/interview-docs/my-docs/Interview/校园行(Campus-trip).html#报名活动" class="sidebar-link">报名活动</a></li><li class="sidebar-sub-header"><a href="/interview-docs/my-docs/Interview/校园行(Campus-trip).html#在线聊天" class="sidebar-link">在线聊天</a></li></ul></li></ul></li><li><a href="/interview-docs/my-docs/Interview/知识小站(Knowledge-Station).html" class="sidebar-link">知识小站(Knowledge-Station)</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="content__default"><h1 id="校园行-campus-trip"><a href="#校园行-campus-trip" class="header-anchor">#</a> 校园行(Campus-trip)</h1> <h2 id="_1-项目概述"><a href="#_1-项目概述" class="header-anchor">#</a> 1. 项目概述</h2> <h3 id="_1-1-项目介绍"><a href="#_1-1-项目介绍" class="header-anchor">#</a> 1.1 项目介绍</h3> <p>该项目是一个校园社交活动管理平台，旨在帮助学生组织和参与校园内的各种社交活动。学生可以通过小程序浏览和查询校园内的活动，并报名参加感兴趣的活动。后台管理端可以管理区域、活动、用户和报名信息等，以及统计分析活动数据。</p> <p>一款专门针对大学校园内社交活动的管理工具。它为学生组织和参与者提供了一种方便、高效的方式来组织和参加各种社交活动。</p> <p>随着校园文化的多元化和学生兴趣的多样化，学生对校园活动的需求也在增加。目前市场上虽然有一些校园活动平台，但大多数功能较为简单，缺乏数据分析和挖掘能力。因此，校园活动日历项目将结合先进的技术和深入的数据分析，为学生提供更加丰富和个性化的活动选择，满足他们的实际需求。</p> <p>PC管理端：工作台（数据可视化）、用户管理、区域管理、活动管理（分类、活动信息）、报名管理（报名提醒、报名时间区间、报名状态设置）、（登录登出）、反馈管理</p> <p>小程序端：微信登录、活动浏览与查询（查看活动详情）、报名参加活动（报名成功提醒或活动开始前提醒）、个人中心等功能（个人报名管理、查看已报名的活动、用户催单、历史活动记录、个人信息）</p> <p>参加活动可以活动虚拟工资，学期末通过统计，给予前50名学生奖品</p> <p>活动报名限制人数、50、100、200等</p> <p>采用定时任务，检测活动开始前两小时通过WebSocket提醒学生</p> <p>学生可以在线联系管理员，询问活动详情疑惑点（必须管理员在线状态）</p> <p>报名成功10min内可以取消报名</p> <p>当用户报名或取消报名某个活动时，需要修改活动报名信息。为了提高系统的响应速度，可以将修改活动报名信息的操作放入消息队列中异步处理。</p> <p><strong>结合专家校园行和活动大咖</strong></p> <ol><li>活动发布和管理：学生组织可以在平台上发布他们的活动，并进行活动的管理，如审核报名、确认参与人员等。</li> <li>活动搜索和参与：学生可以在平台上浏览所有可参加的活动，并通过平台报名参加感兴趣的活动。</li> <li>活动评价和反馈：学生可以在平台上对参加过的活动进行评价和反馈，帮助其他人更好地了解这些活动的质量和特点。</li> <li>活动统计和分析：平台可以对所有活动进行统计和分析，以便学校和学生组织更好地了解他们的社交活动情况，优化他们的活动策略和管理方法。</li> <li>社交互动和交流：平台还提供了社交互动和交流的功能，让学生可以更好地了解彼此的兴趣爱好和想法，建立更紧密的社交网络</li></ol> <hr> <p>&quot;校园行&quot;是一款专门针对大学校园内社交活动的管理工具，旨在为学生组织和参与者提供方便、高效的方式来组织和参加各种社交活动。该平台结合先进的技术和深入的数据分析，旨在满足学生们多元化的校园文化需求和兴趣多样化。</p> <p><strong>PC管理端：</strong></p> <ul><li>工作台（数据可视化）：提供直观的数据图表和报告，帮助管理员了解活动情况和学生参与度。</li> <li>区域管理：管理不同区域的社交活动，确保活动覆盖全校各个地方。</li> <li>活动管理：支持分类和编辑活动信息，包括活动时间、地点、主题等。</li> <li>报名管理：设置报名时间区间和报名提醒，方便学生报名参加活动。</li> <li>用户管理：管理学生用户的注册和权限，确保平台的安全性和准确性。</li> <li>登录登出：提供登录和登出功能，保护用户隐私和账户安全。</li> <li>评价管理：收集学生对活动的反馈和评价，改进活动质量和体验。</li> <li>报名提醒：向学生发送报名成功和活动提醒的通知，确保参与者准时参加活动。</li> <li>报名状态设置：管理学生的报名状态，包括待审核、已通过、已取消等。</li></ul> <p><strong>小程序端：</strong></p> <ul><li>微信登录：支持学生使用微信账号快速登录，提高用户体验和便捷性。</li> <li>活动浏览与查询：学生可以浏览和查询不同的社交活动，查看活动详情和相关信息。</li> <li>报名参加活动：学生可以通过平台报名参加感兴趣的活动，提前预定位置。</li> <li>查看已报名的活动：学生可以查看自己已经报名参加的活动，并获取相关的提醒和通知。</li> <li>个人报名管理：学生可以管理自己的报名信息，包括修改、取消报名等操作。</li> <li>历史活动记录：学生可以查看自己参与过的历史活动记录，回顾和分享活动经历。</li> <li>个人信息中心：学生可以管理和编辑个人信息，包括头像、昵称、联系方式等。</li> <li>用户催单：学生可以向管理员发起催单请求，提醒他们及时处理问题和反馈。</li></ul> <hr> <p>校园活动的种类和形式有很多，以下是一些常见的校园活动示例：</p> <ol><li><p>文化艺术类活动：</p> <ul><li>话剧表演</li> <li>音乐会或乐队演出</li> <li>舞蹈比赛或表演</li> <li>绘画、摄影或手工艺品展览</li> <li>书法、诗歌或散文比赛</li></ul></li> <li><p>学术科技类活动：</p> <ul><li>学术讲座或研讨会</li> <li>科技创新竞赛</li> <li>科学展览</li> <li>编程或机器人比赛</li> <li>学术论文发表会</li></ul></li> <li><p>社会公益类活动：</p> <ul><li>志愿者服务活动</li> <li>社区清洁行动</li> <li>环保讲座或展览</li> <li>爱心捐赠活动</li> <li>义卖会或义演</li></ul></li> <li><p>运动健身类活动：</p> <ul><li>篮球、足球或排球比赛</li> <li>游泳或跑步比赛</li> <li>健身操或瑜伽课程</li> <li>登山或徒步活动</li> <li>卡拉OK比赛或舞蹈大赛</li></ul></li> <li><p>主题文化节日类活动：</p> <ul><li>学校周年庆典</li> <li>外国文化体验活动</li> <li>元宵节灯会</li> <li>毕业晚会或舞会</li> <li>春节联欢晚会</li></ul></li> <li><p>职业规划类活动：</p> <ul><li>职业生涯规划讲座或咨询</li> <li>校园招聘会或面试培训</li> <li>企业参观或实习机会推介</li></ul></li> <li><p>心理健康类活动：</p> <ul><li>心理健康讲座或辅导活动</li> <li>精神鸡汤分享会或读书会</li> <li>压力管理和情绪控制课程</li></ul></li> <li><p>出国留学类活动：</p> <ul><li>留学资讯讲座或展览</li> <li>外国大使馆开放日活动</li> <li>外语角、文化交流活动或海外游学计划</li></ul></li> <li><p>创业创新类活动：</p> <ul><li>创业讲座或创业比赛</li> <li>创意市集或设计展览</li> <li>创新工作坊或创客空间开放日</li></ul></li> <li><p>社交互动类活动：</p> <ul><li>交友晚会或联谊活动</li> <li>活动策划与组织培训</li> <li>社团招新或社团活动推介</li></ul></li></ol> <h3 id="_1-2-数据库表设计"><a href="#_1-2-数据库表设计" class="header-anchor">#</a> 1.2 数据库表设计</h3> <h4 id="管理员表"><a href="#管理员表" class="header-anchor">#</a> 管理员表</h4> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token identifier"><span class="token punctuation">`</span>admin<span class="token punctuation">`</span></span> <span class="token punctuation">(</span>
  <span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span> <span class="token keyword">bigint</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">AUTO_INCREMENT</span> <span class="token keyword">COMMENT</span> <span class="token string">'主键id'</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">`</span>name<span class="token punctuation">`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">'姓名'</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">`</span>username<span class="token punctuation">`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">'用户名'</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">`</span>password<span class="token punctuation">`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">'密码'</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">`</span>phone<span class="token punctuation">`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">'手机号'</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">`</span>status<span class="token punctuation">`</span></span> <span class="token keyword">tinyint</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">'状态，0正常，1锁定'</span><span class="token punctuation">,</span>
  <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span><span class="token punctuation">)</span>
<span class="token punctuation">)</span> <span class="token keyword">ENGINE</span><span class="token operator">=</span><span class="token keyword">InnoDB</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">CHARSET</span><span class="token operator">=</span>utf8mb4 <span class="token keyword">COLLATE</span><span class="token operator">=</span>utf8mb4_0900_ai_ci <span class="token keyword">COMMENT</span><span class="token operator">=</span><span class="token string">'管理员'</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="区域表"><a href="#区域表" class="header-anchor">#</a> 区域表</h4> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token identifier"><span class="token punctuation">`</span>site<span class="token punctuation">`</span></span> <span class="token punctuation">(</span>
  <span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span> <span class="token keyword">bigint</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">AUTO_INCREMENT</span> <span class="token keyword">COMMENT</span> <span class="token string">'主键id'</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">`</span>name<span class="token punctuation">`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">'场地名称'</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">`</span>create_time<span class="token punctuation">`</span></span> <span class="token keyword">datetime</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">'创建时间'</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">`</span>update_time<span class="token punctuation">`</span></span> <span class="token keyword">datetime</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">'更新时间'</span><span class="token punctuation">,</span>
  <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span><span class="token punctuation">)</span>
<span class="token punctuation">)</span> <span class="token keyword">ENGINE</span><span class="token operator">=</span><span class="token keyword">InnoDB</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">CHARSET</span><span class="token operator">=</span>utf8mb4 <span class="token keyword">COLLATE</span><span class="token operator">=</span>utf8mb4_0900_ai_ci <span class="token keyword">COMMENT</span><span class="token operator">=</span><span class="token string">'场地信息'</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="分类表"><a href="#分类表" class="header-anchor">#</a> 分类表</h4> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token identifier"><span class="token punctuation">`</span>category<span class="token punctuation">`</span></span> <span class="token punctuation">(</span>
  <span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span> <span class="token keyword">bigint</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">AUTO_INCREMENT</span> <span class="token keyword">COMMENT</span> <span class="token string">'主键'</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">`</span>name<span class="token punctuation">`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">'分类名称'</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">`</span>description<span class="token punctuation">`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">'分类描述'</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">`</span>status<span class="token punctuation">`</span></span> <span class="token keyword">int</span> <span class="token keyword">DEFAULT</span> <span class="token string">'0'</span> <span class="token keyword">COMMENT</span> <span class="token string">'分类状态 0：禁用，1：启用'</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">`</span>create_time<span class="token punctuation">`</span></span> <span class="token keyword">datetime</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">'创建时间'</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">`</span>update_time<span class="token punctuation">`</span></span> <span class="token keyword">datetime</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">'更新时间'</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">`</span>create_user<span class="token punctuation">`</span></span> <span class="token keyword">bigint</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">'创建人'</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">`</span>update_user<span class="token punctuation">`</span></span> <span class="token keyword">bigint</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">'修改人'</span><span class="token punctuation">,</span>
  <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token keyword">UNIQUE</span> <span class="token keyword">KEY</span> <span class="token identifier"><span class="token punctuation">`</span>idx_category_name<span class="token punctuation">`</span></span> <span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>name<span class="token punctuation">`</span></span><span class="token punctuation">)</span>
<span class="token punctuation">)</span> <span class="token keyword">ENGINE</span><span class="token operator">=</span><span class="token keyword">InnoDB</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">CHARSET</span><span class="token operator">=</span>utf8mb4 <span class="token keyword">COLLATE</span><span class="token operator">=</span>utf8mb4_0900_ai_ci <span class="token keyword">COMMENT</span><span class="token operator">=</span><span class="token string">'活动分类'</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="活动表"><a href="#活动表" class="header-anchor">#</a> 活动表</h4> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token identifier"><span class="token punctuation">`</span>activity<span class="token punctuation">`</span></span> <span class="token punctuation">(</span>
  <span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span> <span class="token keyword">bigint</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">AUTO_INCREMENT</span> <span class="token keyword">COMMENT</span> <span class="token string">'主键'</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">`</span>name<span class="token punctuation">`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">'活动名称'</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">`</span>category_id<span class="token punctuation">`</span></span> <span class="token keyword">bigint</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">'活动分类id'</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">`</span>description<span class="token punctuation">`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">'活动描述'</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">`</span>site_id<span class="token punctuation">`</span></span> <span class="token keyword">bigint</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">'活动场地id'</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">`</span>registration_start_time<span class="token punctuation">`</span></span> <span class="token keyword">datetime</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">'报名开始时间'</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">`</span>registration_end_time<span class="token punctuation">`</span></span> <span class="token keyword">datetime</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">'报名结束时间'</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">`</span>activity_start_time<span class="token punctuation">`</span></span> <span class="token keyword">datetime</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">'活动开始时间'</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">`</span>activity_end_time<span class="token punctuation">`</span></span> <span class="token keyword">datetime</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">'预计活动结束时间'</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">`</span>quota_num<span class="token punctuation">`</span></span> <span class="token keyword">bigint</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">'活动名额'</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">`</span>people_num<span class="token punctuation">`</span></span> <span class="token keyword">bigint</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">'活动人数'</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">`</span>virtual_salary<span class="token punctuation">`</span></span> <span class="token keyword">decimal</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">'虚拟工资'</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">`</span>note<span class="token punctuation">`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">'注意事项'</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">`</span>head<span class="token punctuation">`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">'负责人'</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">`</span>head_phone<span class="token punctuation">`</span></span> <span class="token keyword">bigint</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">'负责人联系方式'</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">`</span>create_time<span class="token punctuation">`</span></span> <span class="token keyword">datetime</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">'创建时间'</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">`</span>update_time<span class="token punctuation">`</span></span> <span class="token keyword">datetime</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">'更新时间'</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">`</span>create_user<span class="token punctuation">`</span></span> <span class="token keyword">bigint</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">'创建人'</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">`</span>update_user<span class="token punctuation">`</span></span> <span class="token keyword">bigint</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">'修改人'</span><span class="token punctuation">,</span>
  <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token keyword">UNIQUE</span> <span class="token keyword">KEY</span> <span class="token identifier"><span class="token punctuation">`</span>idx_activity_name<span class="token punctuation">`</span></span> <span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>name<span class="token punctuation">`</span></span><span class="token punctuation">)</span>
<span class="token punctuation">)</span> <span class="token keyword">ENGINE</span><span class="token operator">=</span><span class="token keyword">InnoDB</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">CHARSET</span><span class="token operator">=</span>utf8mb4 <span class="token keyword">COLLATE</span><span class="token operator">=</span>utf8mb4_0900_ai_ci <span class="token keyword">COMMENT</span><span class="token operator">=</span><span class="token string">'活动信息'</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="用户表"><a href="#用户表" class="header-anchor">#</a> 用户表</h4> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token identifier"><span class="token punctuation">`</span>user<span class="token punctuation">`</span></span> <span class="token punctuation">(</span>
  <span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span> <span class="token keyword">bigint</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">AUTO_INCREMENT</span> <span class="token keyword">COMMENT</span> <span class="token string">'主键id'</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">`</span>openid<span class="token punctuation">`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">45</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">'微信用户唯一标识'</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">`</span>name<span class="token punctuation">`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">'姓名'</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">`</span>phone<span class="token punctuation">`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">'手机号'</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">`</span>sex<span class="token punctuation">`</span></span> <span class="token keyword">tinyint</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">'性别，0男，1女，2未知'</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">`</span>avatar<span class="token punctuation">`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">'头像'</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">`</span>status<span class="token punctuation">`</span></span> <span class="token keyword">tinyint</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token string">'0'</span> <span class="token keyword">COMMENT</span> <span class="token string">'状态，0正常，1锁定'</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">`</span>create_time<span class="token punctuation">`</span></span> <span class="token keyword">datetime</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">'注册时间'</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">`</span>update_time<span class="token punctuation">`</span></span> <span class="token keyword">datetime</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">'修改时间'</span><span class="token punctuation">,</span>
  <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span><span class="token punctuation">)</span>
<span class="token punctuation">)</span> <span class="token keyword">ENGINE</span><span class="token operator">=</span><span class="token keyword">InnoDB</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">CHARSET</span><span class="token operator">=</span>utf8mb4 <span class="token keyword">COLLATE</span><span class="token operator">=</span>utf8mb4_0900_ai_ci <span class="token keyword">COMMENT</span><span class="token operator">=</span><span class="token string">'用户信息'</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="报名表"><a href="#报名表" class="header-anchor">#</a> 报名表</h4> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token identifier"><span class="token punctuation">`</span>registration<span class="token punctuation">`</span></span> <span class="token punctuation">(</span>
  <span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span> <span class="token keyword">bigint</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">AUTO_INCREMENT</span> <span class="token keyword">COMMENT</span> <span class="token string">'主键id'</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">`</span>activity_id<span class="token punctuation">`</span></span> <span class="token keyword">bigint</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">'活动id'</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">`</span>status<span class="token punctuation">`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token string">'1'</span> <span class="token keyword">COMMENT</span> <span class="token string">'报名状态，1未开始，2已完成，3已取消'</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">`</span>user_id<span class="token punctuation">`</span></span> <span class="token keyword">bigint</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">'报名活动的用户id'</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">`</span>registration_time<span class="token punctuation">`</span></span> <span class="token keyword">datetime</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">'报名时间'</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">`</span>remark<span class="token punctuation">`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">'备注'</span><span class="token punctuation">,</span>
  <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span><span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">`</span>status<span class="token punctuation">`</span></span><span class="token punctuation">)</span> <span class="token keyword">USING</span> <span class="token keyword">BTREE</span>
<span class="token punctuation">)</span> <span class="token keyword">ENGINE</span><span class="token operator">=</span><span class="token keyword">InnoDB</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">CHARSET</span><span class="token operator">=</span>utf8mb4 <span class="token keyword">COLLATE</span><span class="token operator">=</span>utf8mb4_0900_ai_ci <span class="token keyword">COMMENT</span><span class="token operator">=</span><span class="token string">'报名信息'</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="聊天表"><a href="#聊天表" class="header-anchor">#</a> 聊天表</h4> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token identifier"><span class="token punctuation">`</span>record<span class="token punctuation">`</span></span> <span class="token punctuation">(</span>
  <span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span> <span class="token keyword">bigint</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">AUTO_INCREMENT</span> <span class="token keyword">COMMENT</span> <span class="token string">'主键id'</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">`</span>is_admin<span class="token punctuation">`</span></span> <span class="token keyword">tinyint</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">'发送方是否是管理员，1管理员，2用户'</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">`</span>send_id<span class="token punctuation">`</span></span> <span class="token keyword">bigint</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">'发送人id'</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">`</span>receive_id<span class="token punctuation">`</span></span> <span class="token keyword">bigint</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">'接收人id'</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">`</span>content<span class="token punctuation">`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">'发送内容'</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">`</span>time<span class="token punctuation">`</span></span> <span class="token keyword">datetime</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">'发送时间'</span><span class="token punctuation">,</span>
  <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span><span class="token punctuation">)</span>
<span class="token punctuation">)</span> <span class="token keyword">ENGINE</span><span class="token operator">=</span><span class="token keyword">InnoDB</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">CHARSET</span><span class="token operator">=</span>utf8mb4 <span class="token keyword">COLLATE</span><span class="token operator">=</span>utf8mb4_0900_ai_ci <span class="token keyword">COMMENT</span><span class="token operator">=</span><span class="token string">'聊天记录信息'</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_1-3-项目架构"><a href="#_1-3-项目架构" class="header-anchor">#</a> 1.3 项目架构</h3> <h3 id="_1-4-项目工程结构"><a href="#_1-4-项目工程结构" class="header-anchor">#</a> 1.4 项目工程结构</h3> <h3 id="_1-5-项目演示"><a href="#_1-5-项目演示" class="header-anchor">#</a> 1.5 项目演示</h3> <h2 id="_2-项目业务"><a href="#_2-项目业务" class="header-anchor">#</a> 2. 项目业务</h2> <h3 id="_2-1-pc管理端"><a href="#_2-1-pc管理端" class="header-anchor">#</a> 2.1 PC管理端</h3> <h4 id="_1-工作台"><a href="#_1-工作台" class="header-anchor">#</a> 1）工作台</h4> <p>使用Apache Echarts完成数据可视化，使用Apache POI完成各项活动数据的导出</p> <p>需求安排：</p> <ul><li><p>活动报名统计</p></li> <li><p>用户统计</p></li> <li><p>活动类型统计</p></li> <li><p>导出运营数据Excel报表</p></li></ul> <p><font color="blue"><strong>活动报名统计</strong></font></p> <p>活动报名统计通过折线图来展示，X轴为活动名，Y轴为报名数</p> <ul><li><p>这里的报名数指有效报名数，就是报名成功并成功参加活动的数量</p></li> <li><p>报名取消和报名成功没有参加活动的学生不算有效报名</p></li> <li><p>根据时间选择区间，展示<strong>各个活动的有效报名数</strong></p></li></ul> <p><font color="blue"><strong>用户统计</strong></font></p> <p>通过折线图来统计用户的数量，X轴为日期，Y轴为用户数，具体到每一天。</p> <ul><li>根据时间选择区间，展示每天的<strong>用户总量</strong>和<strong>新增用户量</strong>数据</li></ul> <p><font color="blue"><strong>活动类型统计</strong></font></p> <p>通过柱形图来展示各个类型的活动报名数量，X轴为活动类型，Y轴为该类型下活动的总报名数量</p> <ul><li>根据时间选择区间，展示<strong>各个类型的活动报名数量</strong></li></ul> <p><font color="blue"><strong>导出运营数据Excel报表</strong></font></p> <p>导出Excel形式的报表文件</p> <p>导出最近两周（14天）的运营数据，主要由**概览数据（总活动数和总报名数）<strong>和</strong>明细数据（统计图数据）**两部分组成</p> <p>实现步骤：</p> <p>1). 设计Excel模板文件</p> <p>2). 查询近14天的运营数据</p> <p>3). 将查询到的运营数据写入模板文件</p> <p>4). 通过输出流将Excel文件下载到客户端浏览器</p> <h4 id="_2-用户管理"><a href="#_2-用户管理" class="header-anchor">#</a> 2）用户管理</h4> <p>小程序端如果是首次登录，那么就是插入新的用户信息，并使用OpenID+随机字符串作为默认用户名，其他非必要信息默认为空。</p> <p>接口安排</p> <ul><li>用户分页查询</li> <li>启用禁用用户账号</li> <li>编辑用户</li></ul> <h4 id="_3-区域管理"><a href="#_3-区域管理" class="header-anchor">#</a> 3）区域管理</h4> <p>需求安排</p> <ul><li>活动场地查询</li> <li>添加活动场地</li> <li>编辑活动场地</li> <li>删除活动场地</li></ul> <p>实则就是简单的CRUD</p> <p>首先录入校园中可以进行活动的场地，在进行发布活动时，可以从场地列表中快速选取合适活动场地</p> <h4 id="_4-活动管理"><a href="#_4-活动管理" class="header-anchor">#</a> 4）活动管理</h4> <p>关于活动管理，主要围绕活动相关的业务设计的，包含：活动分类、活动信息这些相关的业务流程。</p> <h5 id="_1活动分类管理"><a href="#_1活动分类管理" class="header-anchor">#</a> ①活动分类管理</h5> <p>活动分类这块主要有十多个类别，比如有：文化艺术类活动、学术科技类活动、社会公益类活动、运动健身类活动、主题文化节日类活动、职业规划类活动、心理健康类活动、出国留学类活动、创业创新类活动、社交互动类活动</p> <p>可以针对活动分类进行管理，活动分类字段就是主键id、活动分类名称、活动类型详情、分类状态以及排序顺序这么几个字段。</p> <p>需求安排：</p> <ul><li><p>分页查询活动分类</p> <p>系统中的分类很多的时候，如果在一个页面中全部展示出来会显得比较乱，不便于查看，所以一般的系统中都会以分页的方式来展示列表数据。</p></li> <li><p>添加活动分类</p> <p>当我们在后台系统中添加活动时需要选择一个活动分类，在移动端也会按照活动分类来展示对应的菜品</p></li> <li><p>编辑活动分类</p> <p>在活动分类管理列表页面点击修改按钮，弹出修改窗口，在修改窗口回显分类信息并进行修改，最后点击确定按钮完成修改操作。</p></li> <li><p>删除活动分类</p> <p>在活动分类管理页面，可以对某个类型进行删除操作。需要注意的是当分类关联了活动时，此分类不允许删除。</p></li> <li><p>启用禁用活动分类</p> <p>在分类管理列表页面，可以对某个分类进行启用或者禁用操作。</p></li> <li><p>分类类型查询（条件查询）</p> <p>当点击分类类型下拉框时，从数据库中查询所有的菜品分类数据进行展示。</p></li></ul> <p>注意：</p> <ul><li>分类名称必须是唯一的</li> <li>新添加的分类状态默认为“禁用”</li></ul> <p>接口安排</p> <ul><li>新增分类</li> <li>分类分页查询</li> <li>根据id删除分类</li> <li>修改分类</li> <li>启用禁用分类</li> <li>根据类型查询分类</li></ul> <h5 id="_2活动信息管理"><a href="#_2活动信息管理" class="header-anchor">#</a> ②活动信息管理</h5> <p>需求安排</p> <ul><li>公共字段自动填充</li> <li>发布活动</li> <li>开始/结束报名（报名时间24h，定时任务实现）</li> <li>活动分页查询</li> <li>修改活动</li> <li>取消活动</li></ul> <p><font color="blue"><strong>公共字段自动填充</strong></font></p> <p>使用AOP切面编程，实现功能增强，来完成公共字段自动填充功能</p> <p>在实现公共字段自动填充，也就是在插入或者更新的时候为指定字段赋予指定的值，使用它的好处就是可以统一对这些字段进行处理，避免了重复代码。在上述的问题分析中，我们提到有四个公共字段，需要在新增/更新中进行赋值操作, 具体情况如下:</p> <table><thead><tr><th><strong>序号</strong></th> <th><strong>字段名</strong></th> <th><strong>含义</strong></th> <th><strong>数据类型</strong></th> <th><strong>操作类型</strong></th></tr></thead> <tbody><tr><td>1</td> <td>create_time</td> <td>创建时间</td> <td>datetime</td> <td>insert</td></tr> <tr><td>2</td> <td>create_user</td> <td>创建人id</td> <td>bigint</td> <td>insert</td></tr> <tr><td>3</td> <td>update_time</td> <td>修改时间</td> <td>datetime</td> <td>insert、update</td></tr> <tr><td>4</td> <td>update_user</td> <td>修改人id</td> <td>bigint</td> <td>insert、update</td></tr></tbody></table> <p>实现步骤：</p> <p>1). 自定义注解 AutoFill，用于标识需要进行公共字段自动填充的方法</p> <p>2). 自定义切面类 AutoFillAspect，统一拦截加入了 AutoFill 注解的方法，通过反射为公共字段赋值</p> <p>3). 在需要实现的业务方法上加入 AutoFill 注解（Impl实现类）</p> <p>==AOP实现统一业务日志的打印==</p> <p>日志和业务混合在一起，AOP要做的就是将日志代码全部抽象出去，统一进行处理，处理方法中只保留核心业务代码，做到核心业务和非业务代码的解耦合</p> <p>实现步骤：</p> <p>1). 自定义注解 LogAnnotation，用于标识需要进行公共字段自动填充的方法</p> <p>2). 自定义切面类 LogAspect，统一拦截加入了 LogAnnotation注解的方法，通过反射为公共字段赋值</p> <p>3). 在需要实现的业务方法上加入 LogAnnotation注解（controller类）</p> <p><font color="blue"><strong>发布活动</strong></font></p> <p>后台系统中可以管理活动，通过 <strong>新增功能</strong>来添加一个新的活动，在添加活动时需要选择当前活动所属的活动分类和活动场地</p> <p>信息项有：活动名称、<strong>活动分类</strong>、活动描述、活动场地、报名开始时间、报名截止时间、活动开始时间、预计活动结束时间、活动名额、虚拟工资、注意事项、活动负责人、联系方式。。。</p> <p>注意：</p> <ul><li>活动名称必须是唯一的</li> <li>活动必须属于某个分类下，不能单独存在</li> <li>活动场地可选，不选的情况下默认线上</li></ul> <p><font color="blue"><strong>开始/结束报名（报名时间24h，定时任务实现）</strong></font></p> <p>发布活动，小程序端即可看到活动信息，报名时间开始，用户可以进行报名</p> <p>报名开始后，不能取消活动。只要活动报名截止前可以取消活动</p> <p><font color="blue"><strong>活动分页查询</strong></font></p> <p>系统中的活动越来越多，如果在一个页面中全部展示出来会显得比较乱，不便于查看，所以一般的系统中都会以分页的方式来展示列表数据。</p> <p><font color="blue"><strong>修改活动</strong></font></p> <p>通过修改功能完成对活动相关信息的修改操作，<strong>已开始报名的活动不能修改</strong>，必须取消活动才可修改</p> <p><font color="blue"><strong>取消活动</strong></font></p> <p>在活动信息列表页面，每个活动后面对应的操作分别为<strong>修改</strong>、<strong>取消</strong>、<strong>开始/结束</strong>，可通过取消功能完成对活动及相关的数据进行删除。<strong>已开始报名的活动不能删除</strong>，必须取消活动才可删除</p> <h4 id="_5-报名管理"><a href="#_5-报名管理" class="header-anchor">#</a> 5）报名管理</h4> <p>只要用户报名成功就会生产报名信息，报名数据统一管理，详细数据可查，可以进行导出，分析处理</p> <ul><li>分页查看报名信息</li> <li>根据报名条件查看报名信息（已报名，已取消，已参加）</li> <li>定时任务，活动开始前两小时提醒学生</li></ul> <h4 id="_6-在线沟通"><a href="#_6-在线沟通" class="header-anchor">#</a> 6）在线沟通</h4> <ul><li>开启/关闭在线状态</li> <li>在线聊天</li></ul> <h3 id="_2-2-小程序端"><a href="#_2-2-小程序端" class="header-anchor">#</a> 2.2 小程序端</h3> <h4 id="_1-微信登录"><a href="#_1-微信登录" class="header-anchor">#</a> 1）微信登录</h4> <p>用户进入到小程序的时候，只能查看活动列表，微信授权登录之后才能查看活动详情并报名。</p> <p>需要获取当前微信用户的相关信息，比如昵称、头像等，这样才能够进入到小程序进行报名操作。</p> <p>是基于微信登录来实现小程序的登录功能，没有采用传统账户密码登录的方式。</p> <p>若第一次使用小程序来报名，就是一个新用户，需要把这个新的用户保存到数据库当中完成自动注册。</p> <p><font color="blue"><strong>微信登录流程</strong></font></p> <p>前端调用wx.login()进行登录，<strong>首先用户在小程序端点击登录，前端会调用微信的登录方法wx.login()，用户在微信端需要点击允许登录</strong>。</p> <p><strong>当用户允许后，微信Server端就会返回一个临时票据code，前端将这个临时票据code发送给后端</strong>。</p> <p><strong>后端需要带着自己的AppID和App秘钥以及这个临时票据code，去向微信Server端发起请求，交换回来一个SessionKey 和openld</strong>。</p> <ul><li>SessionKey代表一个会话的秘钥，用于校验会话数据的签名和解密，这个是有有效期的。</li> <li>而Openld代表用户的唯一标识，这个是不会改变的，所以后面我们也是通过OpenIlD判断用户的唯一性。</li></ul> <p>因为这是一个HTTP 的远程调用，于是封装了一个HttpClient的工具类和微信Service专门用于对接微信的开放API。</p> <p><strong>得到用户的SessionKey和Openld 以后，根据Openld 判断用户是否是首次登录</strong>。</p> <p><strong>如果是首次登录，那么就是插入新的用户信息，使用Openld+随机字符串作为默认用户名，用户将来可以在个人中心进行修改</strong>。</p> <p>查到用户信息以后，根据用户id和用户name，生成一个自定义的Token，这个格式我们采用JWT格式进行实现</p> <p><strong>最后就是封装返回给客户端的数据，比如Token、用户信息返回给前端</strong>。</p> <p><strong>另外还要把用户的个人信息缓存到Redis当中</strong>。</p> <p>==微信登录认证流程==</p> <p>当用户登录成功后，前端每次请求都会把Token放到请求头里面，这个Token 就是登录时下发的JWT格式的Token。</p> <p>在后端代码中，设计了一个拦截器，拦截到请求后，从 Request请求头中获取Token，然后调用预先封装好的JWT工具类校验Token没有问题，从Token中取到Userld，再拿着Userld去Redis 中获取用户信息。如果用户信息没有过期，那么就可以获取到，如果过期了就获取不到，前端需要重新登录。</p> <p>当获取到用户信息后，直接把用户信息封装到ThreadLocal中，这样，在后续的处理业务的过程中，就可以随时取到用户信息进行相应的业务处理了。</p> <h4 id="_2-活动浏览与查询"><a href="#_2-活动浏览与查询" class="header-anchor">#</a> 2）活动浏览与查询</h4> <p>需求安排：</p> <ul><li>查询所有活动列表</li> <li>根据分类查询活动</li> <li>查看活动详情</li> <li><strong>在线联系管理员</strong></li></ul> <h4 id="_3-报名参加活动"><a href="#_3-报名参加活动" class="header-anchor">#</a> 3）报名参加活动</h4> <p>需求安排：</p> <ul><li>报名活动</li> <li>查看我的活动（包括参加过还有报名后还未参加的活动）</li> <li>取消活动（活动开始前10min，开始后不许取消活动，不参加记录个人信用分）</li></ul> <h4 id="_4-个人中心"><a href="#_4-个人中心" class="header-anchor">#</a> 4）个人中心</h4> <p>需求安排：</p> <ul><li>查看个人信息</li> <li>修改个人信息</li> <li>退出登录</li></ul> <h2 id="_3-简历编写"><a href="#_3-简历编写" class="header-anchor">#</a> 3. 简历编写</h2> <p><strong>校园行</strong>		2023.3-2023.5</p> <p><strong>项目内容</strong>：校园行是一个专注于大学生群体的校园活动平台，致力于帮助学生更便捷地组织和参与校园内的各种活动，并提供丰富多样的奖品，例如学术科技类、社会公益类、文化节日类、体育竞技类等等。</p> <p><strong>业务模块：</strong></p> <p>PC管理端：包括数据可视化、用户管理、区域管理、活动管理、报名管理等模块。</p> <p>小程序端：支持微信登录，用户可以浏览和查询活动信息，报名参加活动，并在个人中心查看信息等功能。</p> <p>**核心技术：**SpringBoot、MyBatisPlus、MySQL、SpringData Redis、Spring Task、RabbitMQ、POI、WebSocket。</p> <p><strong>项目要点：</strong></p> <p>1、基于JWT封装用户Token，使用Redis对其进行存储管理，并自定义封装了拦截器校验JWT的数据有效性，提供系统安全性。</p> <p>2、使用自定义AOP切面，实现统一日志的打印和公共字段填充，如：创建时间、创建人ID、修改时间、修改人ID，提高开发效率和代码质量。</p> <p>3、使用 Redis 作为缓存组件，缓存了管理员在线状态、活动分类数据、活动信息、活动报名数据。 使用SpringCache优化了缓存编码设计，提供系统性能和响应速度。</p> <p>4、对接微信登录，前端调用 wx.login()，后端通过登录凭证校验接口交换到用户唯一标识OpenID完成业务逻辑，提高用户体验。</p> <p>5、针对管理员发布活动、用户报名成功和取消报名等非强一致性业务需求使用 RabbitMQ 进行异步实现，避免用户等待时间过长，提高系统的吞吐量和响应速度。</p> <p>6、使用Spring Task定时扫描活动报名状态即活动开始时间，报名时间截止，则关闭报名入口。</p> <p>7、使用WebSocket全双工协议，设计活动开始前2小时提醒学生相关事项，并提供学生与联系管理员的在线聊天功能。增强平台的互动性和便捷性。</p> <p>8、在平台运营管理端，数据统计模块中，使用Apache Echarts多种图表对接后端接口，展示活动报名数据、用户统计数据、活动类型统计，同时使用Apache POI完成各项活动数据的导出，方便运营管理分析。</p> <p>9、 （通过集成 Knife4j 接口测试文档，可以将已编写好的 Swagger 注解自动转换为文档页面，实现在线调用接口的测试功能，极大地提高了测试效率。 ）</p> <p>10、 （为减少项目冗余的报错细节，自定义异常类并封装了全局异常处理器，便于集中统一处理系统异常。）</p> <p>https://www.yuque.com/boge8/lqrzl9/iotdy6sz8ne2wnat</p> <h2 id="_4-附录-关键代码-流程图"><a href="#_4-附录-关键代码-流程图" class="header-anchor">#</a> 4. 附录（关键代码+流程图）</h2> <h3 id="发布活动"><a href="#发布活动" class="header-anchor">#</a> 发布活动</h3> <p><img src="https://gitee.com/tjlxy/img/raw/master/image-20240117155147549.png" alt="image-20240117155147549"></p> <h3 id="微信登录"><a href="#微信登录" class="header-anchor">#</a> 微信登录</h3> <p><img src="https://gitee.com/tjlxy/img/raw/master/image-20230729161411964.png" alt="image-20230729161411964"></p> <p>具体步骤：</p> <ol><li>小程序端，调用wx.login()获取code，就是授权码。</li> <li>小程序端，调用wx.request()发送请求并携带code，请求开发者服务器(自己编写的后端服务)。</li> <li>开发者服务端，通过HttpClient向微信接口服务发送请求，并携带appId+appsecret+code三个参数。</li> <li>开发者服务端，接收微信接口服务返回的数据，session_key+opendId等。opendId是微信用户的唯一标识。</li> <li>开发者服务端，自定义登录态，生成令牌(token)和openid等数据返回给小程序端，方便后绪请求身份校验。</li> <li>小程序端，收到自定义登录态，存储storage。</li> <li>小程序端，后绪通过wx.request()发起业务请求时，携带token。</li> <li>开发者服务端，收到请求后，通过携带的token，解析当前登录用户的id。</li> <li>开发者服务端，身份校验通过后，继续相关的业务逻辑处理，最终返回业务数据。</li></ol> <h3 id="报名活动"><a href="#报名活动" class="header-anchor">#</a> 报名活动</h3> <p><img src="https://gitee.com/tjlxy/img/raw/master/image-20240117160338916.png" alt="image-20240117160338916"></p> <h3 id="在线聊天"><a href="#在线聊天" class="header-anchor">#</a> 在线聊天</h3></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/interview-docs/my-docs/Interview/数据结构与算法.html" class="prev">
        数据结构与算法
      </a></span> <span class="next"><a href="/interview-docs/my-docs/Interview/知识小站(Knowledge-Station).html">
        知识小站(Knowledge-Station)
      </a>
      →
    </span></p></div> </main></div> <div class="footer" data-v-34d4abe6><div id="footer-info" data-v-34d4abe6><div class="footer-left" data-v-34d4abe6>
      © 2023-2024
      <span data-v-34d4abe6>lxy25122</span></div> <div class="footer-right" data-v-34d4abe6>Theme:<a href="https://github.com/JoeyBling/vuepress-theme-yilia-plus" target="_blank">vuepress-theme-yilia-plus</a> by Litten</div></div> <!----></div></main><div class="global-ui"><div id="live2d-widget" class="live2d-widget-container" style="position:fixed;right:65px;bottom:0px;width:135px;height:300px;z-index:99999;opacity:0.8;pointer-events:none;"><canvas id="live2d_canvas" width="135" height="300" class="live2d_canvas" style="position:absolute;left:0px;top:0px;width:135px;height:300px;"></canvas></div></div></div>
    <script src="/interview-docs/assets/js/app.67f6cb80.js" defer></script><script src="/interview-docs/assets/js/2.eee71d3c.js" defer></script><script src="/interview-docs/assets/js/1.a356cc6d.js" defer></script><script src="/interview-docs/assets/js/33.e09993aa.js" defer></script>
  </body>
</html>
