# 微服务

## 基础

### 如何理解微服务✔

微服务是一种架构风格，我们可以把应用程序划分为一组小型的、松散耦合的服务，每个服务都运行在自己的进程里面，并通过轻量级的通信机制，来进行通信，每个服务都可以独立部署、独立扩展、独立更新，从而提高了应用程序的可伸缩性、可维护性、可测试性，由于微服务是属于分布式架构下的一种针对应用架构的一种设计风格，所有我们会面临到分布式架构下的一些服务治理的复杂问题，因此spring官方提供了一套springCloud解决方案，帮助我们快速实现微服务的技术方案落地。

### 常见的远程调用有几种✔

1. 自定义协议实现C/S RPC调用（实现复杂，需解决的问题多）
2. UDP广播类型（常见用于即时通讯类，速度快，但需要二次确认）
3. 目前主流的基于http协议调用（Restful风格的api，springcloud微服务调用使用的就是http）
4. dubbo协议（阿里出品，长连接，二进制封装数据，性能较高）
5. soap协议（古老的webservice系列框架，基于xml实现数据封装，http协议传输）
6. 异步响应式（WebFlux+Spring Data Reactive）
7. 服务器推（不主动调用，常见系统通知类）

## SpringCloud

### Spring Cloud 5大组件有哪些✔

早期我们一般认为的Spring Cloud五大组件是

- **Eureka** : 注册中心
- **Ribbon** : 负载均衡
- **Feign** : 远程调用
- **Hystrix** : 服务熔断
- Zuul/Gateway : 网关

随着SpringCloudAlibba在国内兴起 , 我们项目中使用了一些阿里巴巴的组件 S

- 注册中心/配置中心 Nacos
- 负载均衡 Ribbon
- 服务调用 Feign
- 服务保护 **sentinel**
- 服务网关 Gateway

### 服务注册和发现是什么意思？Spring Cloud 如何实现服务注册发现✔

我理解的是主要三块大功能，分别是服务注册 、服务发现、服务状态监控

我们当时项目采用的eureka作为注册中心，这个也是spring cloud体系中的一 个核心组件

**服务注册**：服务提供者需要把自己的信息注册到eureka，由eureka来保存这些信息，比如服务名称、ip、端口等等

**服务发现**：消费者向eureka拉取服务列表信息，<font color=red>**如果服务提供者有集群，则消费者会利用负载均衡算法，选择一个发起调用**</font>

**服务监控**：服务提供者会每隔30秒向eureka发送心跳，报告健康状态，如果 eureka服务90秒没接收到心跳，从eureka中剔除

### 能说下nacos与eureka的区别✔



### 你们项目负载均衡如何实现的✔



### Ribbon负载均衡策略有哪些✔



### 如果想自定义负载均衡策略如何实现✔



### 什么是服务雪崩，怎么解决这个问题✔



### 你们的微服务是怎么监控的✔



### 你们项目中有没有做过限流 ? 怎么做的 ✔



### 限流常见的算法有哪些呢✔



### 什么是CAP理论✔



### 为什么分布式系统中无法同时保证一致性和可用性✔



### 什么是BASE理论✔



### 分布式事务解决方案✔



### 分布式服务的接口幂等性如何设计✔



### xxl-job路由策略有哪些✔



### xxl-job任务执行失败怎么解决 ✔



### 如果有大数据量的任务同时都需要执行，怎么解决✔



## Dubbo

### Dubbo是什么



### Dubbo和Spring Cloud有什么区别
